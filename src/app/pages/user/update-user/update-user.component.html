<div class="container" *ngIf="modify === true; else elseBlock">
    <h1 class="text-center mt-4 color">MODIFICÁ TUS DATOS DE PERFIL</h1>
    <form [formGroup]="formUpdateUser" class="container mt-4">
        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Nombre *</mat-label>
                    <input type="text" matInput formControlName="nombre">
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-6" *ngIf="this.formUpdateUser.get('nombre')?.errors && this.formUpdateUser.get('nombre')?.dirty">
                <p *ngIf="this.formUpdateUser.get('nombre')?.hasError('required')" class="text-danger text-center">*El campo es obligatorio</p>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Apellido *</mat-label>
                    <input matInput formControlName="apellido">
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-6" *ngIf="this.formUpdateUser.get('apellido')?.errors && this.formUpdateUser.get('apellido')?.dirty">
                <p *ngIf="this.formUpdateUser.get('apellido')?.hasError('required')" class="text-danger text-center">*El campo es obligatorio</p>
            </div>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Tipo de documento</mat-label>
                    <mat-select formControlName="tipo_documento" name="t">
                        <mat-option *ngFor="let t of tipos" [value]="t">
                          {{t}}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>
        </div>
            
        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Número de documento</mat-label>
                    <input matInput formControlName="num_documento">
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-6" *ngIf="this.formUpdateUser.get('num_documento')?.errors && this.formUpdateUser.get('num_documento')?.dirty">
                <p *ngIf="this.formUpdateUser.get('num_documento')?.hasError('minlength')" class="text-danger text-center">El campo debe tener 6 caracteres como mínimo</p>
                <p *ngIf="this.formUpdateUser.get('num_documento')?.hasError('maxlength')" class="text-danger text-center">El campo debe tener 9 caracteres como máximo</p>
            </div>
        </div>
        
        
        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Fecha de nacimiento *</mat-label>
                    <input matInput [matDatepicker]="picker" formControlName="fecha_nacimiento">
                    <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                    <mat-datepicker #picker></mat-datepicker>
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-6" *ngIf="this.formUpdateUser.get('fecha_nacimiento')?.errors && this.formUpdateUser.get('fecha_nacimiento')?.dirty">
                <p *ngIf="this.formUpdateUser.get('fecha_nacimiento')?.hasError('required')" class="text-danger text-center">*El campo es obligatorio</p>
            </div>
        </div>
            
        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Número de celular *</mat-label>
                    <input matInput formControlName="celular">
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-6" *ngIf="this.formUpdateUser.get('celular')?.errors && this.formUpdateUser.get('celular')?.dirty">
                <p *ngIf="this.formUpdateUser.get('celular')?.hasError('required')" class="text-danger text-center">*El campo es obligatorio</p>
                <p *ngIf="this.formUpdateUser.get('celular')?.hasError('pattern')" class="text-danger text-center">*Debe ingresar un número de celular válido</p>
            </div>
        </div>
               
        <div class="row justify-content-center">
            <div class="col-6">
                <mat-form-field appearance="fill" class="example-full-width">
                    <mat-label>Contraseña *</mat-label>
                    <input matInput [type]="hide ? 'password' : 'text'" formControlName="password">
                    <button mat-icon-button matSuffix (click)="hide = !hide" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hide">
                        <mat-icon>{{hide ? 'visibility_off' : 'visibility'}}</mat-icon>
                    </button>
                </mat-form-field>
            </div>
        </div>
        <div class="row justify-content-center">
            <div class="col-6" *ngIf="this.formUpdateUser.get('password')?.errors && this.formUpdateUser.get('password')?.dirty">
                <p *ngIf="this.formUpdateUser.get('password')?.hasError('required')" class="text-danger text-center">*El campo es obligatorio</p>
            </div>
        </div>
        
        <div class="row justify-content-center">
            <div class="col-6">
                <button mat-raised-button color="primary" class="example-full-width fondo" (click)="submit()">Enviar</button>
            </div>    
        </div>            
    </form>
</div>

<ng-template #elseBlock class="mt-5">
    <div class="container justify-content-center mt-5">
        <div class="row justify-content-center">
            <div class="col-6 justify-content-center text-center">
                <h3>¡Se modificaron tus datos de perfil correctamente!</h3>
            </div>
        </div>

        <div class="row justify-content-center">
            <div class="col-6">
                <button mat-raised-button color="primary" class="example-full-width fondo" (click)="viewProfile()">Mirá cómo quedó tu perfil</button>
            </div> 
        </div>
    </div>
</ng-template>